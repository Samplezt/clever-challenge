{"info":{"_postman_id":"01bdcb2c-c243-4be4-92a7-40054af8dea6","name":"CleverChallenge","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Flujo_Usuarios","item":[{"name":"GET list all users","event":[{"listen":"test","script":{"id":"93ab45c3-2829-43ec-a40a-c16270aaa9a2","exec":["const usernameIsDefined = (user) => {","    return user.username !== undefined;","}","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All users should have username defined\", function() {","    const users = pm.response.json();","    pm.expect(users.every(usernameIsDefined)).to.be.true;","})"],"type":"text/javascript"}}],"id":"8c42faa2-15b6-464c-aa8a-f6637d426beb","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users","host":["{{host}}"],"path":["users"]}},"response":[]},{"name":"GET one valid user","event":[{"listen":"test","script":{"id":"64d6ba19-bc60-440d-9644-73777e2cb418","exec":["const schema = {","    \"type\": \"object\",","    \"properties\": {","        \"id\": {","            \"type\": \"integer\"","        },","        \"name\": {","            \"type\": \"string\"","        },","        \"username\": {","            \"type\": \"string\"","        },","        \"email\": {","            \"type\": \"string\"","        },","        \"address\": {","            \"type\": \"object\"","        },","        \"phone\": {","            \"type\": \"string\"","        },","        \"website\": {","            \"type\": \"string\"","        },","        \"company\": {","            \"type\": \"object\"","        }","    },","    \"required\": [","        \"id\",","        \"name\",","        \"username\",","        \"email\",","        \"address\",","        \"phone\"","    ]","};","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"JSON Schema validation\", function(){","    pm.response.to.have.jsonBody();","    pm.response.to.have.jsonSchema(schema)","})"],"type":"text/javascript"}}],"id":"dabb6bae-99d1-4baa-a747-7a23d856e492","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/1","host":["{{host}}"],"path":["users","1"]}},"response":[]},{"name":"POST create new user","event":[{"listen":"test","script":{"id":"54b17477-33cd-4f6e-9dbc-74d11a80f53e","exec":["const newUser = pm.response.json().id;","pm.collectionVariables.set(\"idNewUser\", newUser);","","pm.test(\"Check status code 201\", function () {","    pm.response.to.have.status(201);","});","","pm.test(\"Created message\", function () {","    pm.response.to.have.status(\"Created\");","});","","pm.test(\"New user id is a number\", function () {","    pm.expect(newUser).to.be.a('number');","});",""],"type":"text/javascript"}}],"id":"6ddc5bea-6b96-49f9-a605-a4554138af6b","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users","host":["{{host}}"],"path":["users"]}},"response":[]},{"name":"GET check new user exists","event":[{"listen":"test","script":{"id":"5b32bf89-3a60-4e75-ab96-aa13d3f0313c","exec":["const newUserData = pm.response.json().id;","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"New user has the correct id\", function () {","    pm.expect(newUserData).to.be.eql(pm.collectionVariables.get(\"idNewUser\"))","});",""],"type":"text/javascript"}}],"id":"af0a035a-aabf-444f-bee8-00c041fb13d0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]},{"name":"DELETE delete new user","event":[{"listen":"test","script":{"id":"bc2e02c3-0144-4e12-9b40-53b48cf81972","exec":["pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});"],"type":"text/javascript"}}],"id":"a11c229a-1187-4339-bf94-983b6a4fab39","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]},{"name":"GET get deleted user","event":[{"listen":"test","script":{"id":"3ad93668-76bb-4f6a-981e-4e6e1a5c109e","exec":["pm.test(\"Check status code 404\", function () {","    pm.response.to.have.status(404);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"Not Found\");","});"],"type":"text/javascript"}}],"id":"6cd30016-398a-4045-8ec6-4a3b166d2833","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]}],"id":"c26f86c0-e1ed-42d4-b168-7dfc9b0170d3"},{"name":"Flujo_Posteos","item":[{"name":"GET list all posts","event":[{"listen":"test","script":{"id":"fe62ed4a-0b51-4565-9554-0d78fe9979d0","exec":["const titleIsDefined = (post) => {","    return post.title !== undefined;","}","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All posts should have title defined\", function() {","    const posts = pm.response.json();","    pm.expect(posts.every(titleIsDefined)).to.be.true;","})"],"type":"text/javascript"}}],"id":"312f34e8-02f4-4b61-9c80-9b41258a537f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{host}}/posts","host":["{{host}}"],"path":["posts"]}},"response":[]},{"name":"GET posts user 1","event":[{"listen":"test","script":{"id":"327b1be1-49a2-456f-a8d9-12f9fbfb12eb","exec":["const userIdValidate = (userPosts) => {","    return userPosts.userId === 1;","}","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All user one posts should have the same user id\", function() {","    const userPosts = pm.response.json();","    pm.expect(userPosts.every(userIdValidate)).to.be.true;","})"],"type":"text/javascript"}}],"id":"4b57464f-c2f9-4023-9664-133642b4ca69","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{host}}/users/1/posts","host":["{{host}}"],"path":["users","1","posts"]}},"response":[]},{"name":"POST create new post","event":[{"listen":"test","script":{"id":"7779b25c-1ad9-481d-9bc3-b7b849f5b7c5","exec":["const schema = {","    \"type\": \"object\",","    \"properties\": {","        \"title\": {","            \"type\": \"string\"","        },","        \"body\": {","            \"type\": \"string\"","        },","        \"userId\": {","            \"type\": \"number\"","        },","        \"id\": {","            \"type\": \"number\"","        }","    },","    \"required\": [","        \"id\",","        \"userId\",","        \"title\"","    ]","};","","const newPost = pm.response.json().id;","pm.collectionVariables.set(\"idNewPost\", newPost);","","","pm.test(\"Check status code 201\", function () {","    pm.response.to.have.status(201);","});","","pm.test(\"Created message\", function () {","    pm.response.to.have.status(\"Created\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","","pm.test(\"Check status code 201\", function () {","    pm.response.to.have.status(201);","});","","pm.test(\"Created message\", function () {","    pm.response.to.have.status(\"Created\");","});","","pm.test(\"New post id is a number\", function () {","    pm.expect(newPost).to.be.a('number');","});","","pm.test(\"JSON Schema validation\", function(){","    pm.response.to.have.jsonBody();","    pm.response.to.have.jsonSchema(schema)","})"],"type":"text/javascript"}}],"id":"2e9b1a78-4b05-4e15-8e36-73777008a082","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"title\": \"este es un nuevo post para clever it\",\n    \"body\": \"test\",\n    \"userId\": 1\n}"},"url":{"raw":"{{host}}/posts","host":["{{host}}"],"path":["posts"]}},"response":[]},{"name":"GET list new post created","event":[{"listen":"test","script":{"id":"4e35148e-bb52-45fc-a8be-f1e13f8f8006","exec":["const newPostData = pm.response.json().id;","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"New post has the correct id\", function () {","    pm.expect(newPostData).to.be.eql(pm.collectionVariables.get(\"idNewPost\"))","});",""],"type":"text/javascript"}}],"id":"f39f09e0-7e39-4788-8d80-9bfd746427fb","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{host}}/posts/{{idNewPost}}","host":["{{host}}"],"path":["posts","{{idNewPost}}"]}},"response":[]}],"id":"ce8b6feb-3ce6-4d18-97f4-5c685729572c"},{"name":"Flujo_Comentarios","item":[{"name":"GET list all coments","event":[{"listen":"test","script":{"id":"9e6fba01-e85e-4c55-bb35-408ea5748b2d","exec":["const postIdDefined = (comment) => {","    return comment.postId !== undefined;","}","","const idCommentDefined = (comment) => {","    return comment.id !== undefined;","}","","const emailDefined = (comment) => {","    return comment.email !== undefined;","}","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All comments should have email, id, and postId defined\", function() {","    const comments = pm.response.json();","    pm.expect(comments.every(postIdDefined)).to.be.true;","    pm.expect(comments.every(idCommentDefined)).to.be.true;","    pm.expect(comments.every(emailDefined)).to.be.true;","})"],"type":"text/javascript"}}],"id":"0c0e1bfc-9cd1-4867-8425-a23dc582ff17","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{host}}/comments","host":["{{host}}"],"path":["comments"]}},"response":[]},{"name":"GET list comments post 1","event":[{"listen":"test","script":{"id":"4e97b30a-f61b-489b-88e2-2c0b9b4377fd","exec":["const postIsValidate = (postData) => {","    return postData.postId === 1;","}","","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"JSON Schema validation\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All posts should have the same postid\", function() {","    const postData = pm.response.json();","    pm.expect(postData.every(postIsValidate)).to.be.true;","})"],"type":"text/javascript"}}],"id":"cd2fae93-07ac-4aac-9d2d-4dd27b042563","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{host}}/posts/1/comments","host":["{{host}}"],"path":["posts","1","comments"]}},"response":[]}],"id":"2d01703a-4995-42d3-bcb3-c4b9aff39510"}],"variable":[{"id":"bcc6f8b6-b132-40c0-b796-3d29116e23f6","key":"idNewUser","value":""},{"id":"038e9883-5073-4a5f-8fcd-b7f3ce6df3ce","key":"idNewPost","value":""}]}
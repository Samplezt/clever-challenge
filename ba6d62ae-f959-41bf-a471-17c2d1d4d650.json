{"info":{"_postman_id":"ba6d62ae-f959-41bf-a471-17c2d1d4d650","name":"Flujo_de_Usuarios","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"GET list all users","event":[{"listen":"test","script":{"id":"d8ebe2ea-e52f-4fe7-9909-8cd3cf9954ce","exec":["const usernameIsDefined = (user) => {","    return user.username !== undefined;","}","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"Check json response\", function(){","    pm.response.to.have.jsonBody();","})","","pm.test(\"All users should have username defined\", function() {","    const users = pm.response.json();","    pm.expect(users.every(usernameIsDefined)).to.be.true;","})"],"type":"text/javascript"}}],"id":"52063862-b96f-4c31-b7bf-e3e2200350b1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users","host":["{{host}}"],"path":["users"]}},"response":[]},{"name":"GET one valid user","event":[{"listen":"test","script":{"id":"92871eae-b359-4976-a2dd-e0f4f8a3d7e8","exec":["const schema = {","    \"type\": \"object\",","    \"properties\": {","        \"id\": {","            \"type\": \"integer\"","        },","        \"name\": {","            \"type\": \"string\"","        },","        \"username\": {","            \"type\": \"string\"","        },","        \"email\": {","            \"type\": \"string\"","        },","        \"address\": {","            \"type\": \"object\"","        },","        \"phone\": {","            \"type\": \"string\"","        },","        \"website\": {","            \"type\": \"string\"","        },","        \"company\": {","            \"type\": \"object\"","        }","    },","    \"required\": [","        \"id\",","        \"name\",","        \"username\",","        \"email\",","        \"address\",","        \"phone\"","    ]","};","","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"JSON Schema validation\", function(){","    pm.response.to.have.jsonBody();","    pm.response.to.have.jsonSchema(schema)","})"],"type":"text/javascript"}}],"id":"803ffc1d-01ab-49c2-9e0f-ce690ad7bd5f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/1","host":["{{host}}"],"path":["users","1"]}},"response":[]},{"name":"POST create new user","event":[{"listen":"test","script":{"id":"2d9a651c-dad2-4661-b276-38ea1c308f03","exec":["const newUser = pm.response.json().id;","pm.collectionVariables.set(\"idNewUser\", newUser);","","pm.test(\"Check status code 201\", function () {","    pm.response.to.have.status(201);","});","","pm.test(\"Created message\", function () {","    pm.response.to.have.status(\"Created\");","});","","pm.test(\"New user id is a number\", function () {","    pm.expect(newUser).to.be.a('number');","});",""],"type":"text/javascript"}}],"id":"6291f65e-3337-4d2a-9c7e-e21bd512d76f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users","host":["{{host}}"],"path":["users"]}},"response":[]},{"name":"GET check new user exists","event":[{"listen":"test","script":{"id":"74ea413d-bbc8-49b1-9d59-41ad5a29bf5f","exec":["const newUserData = pm.response.json().id;","pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});","","pm.test(\"New user has the correct id\", function () {","    pm.expect(newUserData).to.be.eql(pm.collectionVariables.get(\"idNewUser\"))","});",""],"type":"text/javascript"}}],"id":"bf957c09-4bfe-4623-9500-a51b33dd23d1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]},{"name":"DELETE delete new user","event":[{"listen":"test","script":{"id":"b5e3f4cc-c855-4c64-ab08-a1373c7ab931","exec":["pm.test(\"Check status code 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"OK\");","});"],"type":"text/javascript"}}],"id":"2cfdf79c-e42f-414f-ae18-6dc890f48caa","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]},{"name":"GET get deleted user","event":[{"listen":"test","script":{"id":"363af9fc-816d-481b-a625-a559c2e1a808","exec":["pm.test(\"Check status code 404\", function () {","    pm.response.to.have.status(404);","});","","pm.test(\"Ok message\", function () {","    pm.response.to.have.status(\"Not Found\");","});"],"type":"text/javascript"}}],"id":"6c5eb0ec-d98b-4ea0-ac73-a5f7140dad04","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{host}}/users/{{idNewUser}}","host":["{{host}}"],"path":["users","{{idNewUser}}"]}},"response":[]}],"variable":[{"id":"0708e9fa-35d0-4b58-bb7d-fa7fcb7ca473","key":"idnewuser","value":""},{"id":"0c505726-963a-45e8-afd2-f1a25e4c8dae","key":"idNewUsuer","value":""},{"id":"e260c690-27d6-4f1a-ab64-1d1cc162420d","key":"idNewUser","value":""}]}